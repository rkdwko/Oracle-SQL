--Q1
CREATE TABLE PRODUCT(
P_CODE  CHAR(3),
P_NAME  VARCHAR2(30),
P_COST  NUMBER,
P_GROUP VARCHAR2(30));

--Q3
INSERT INTO PRODUCT VALUES ('101','19인치 모니터',150000,'모니터');
INSERT INTO PRODUCT VALUES ('102','22인치 모니터',200000,'모니터');
INSERT INTO PRODUCT VALUES ('103','25인치 모니터',260000,'모니터');
INSERT INTO PRODUCT VALUES ('201','유선마우스',7000,'마우스');
INSERT INTO PRODUCT VALUES ('202','무선마우스',18000,'마우스');
INSERT INTO PRODUCT VALUES ('301','유선키보드',8000,'키보드');
INSERT INTO PRODUCT VALUES ('302','무선키보드',22000,'키보드');
INSERT INTO PRODUCT VALUES ('401','2채널 스피커',10000,'스피커');
INSERT INTO PRODUCT VALUES ('402','5.1채널 스피커',120000,'스피커');

--Q5
CREATE TABLE TRADE(
T_SEQ NUMBER,
P_CODE CHAR(3),
C_CODE VARCHAR2(4),
T_DATE DATE,
T_QTY NUMBER,
T_COST NUMBER,
T_TAX NUMBER,
CONSTRAINT P_T_SEQ PRIMARY KEY(T_SEQ));

--Q7
INSERT INTO TRADE VALUES (61,'131','101',TO_DATE('2016-04-01','YYYY-MM-DD'),10,150000,150000);
INSERT INTO TRADE VALUES (5,'102','102',TO_DATE('2016-04-26','YYYY-MM-DD'),8,200000,160000);
INSERT INTO TRADE VALUES (8,'103','101',TO_DATE('2016-05-20','YYYY-MM-DD'),2,260000,52000);
INSERT INTO TRADE VALUES (3,'201','103',TO_DATE('2016-04-13','YYYY-MM-DD'),7,7000,4900);
INSERT INTO TRADE VALUES (2,'201','101',TO_DATE('2016-04-12','YYYY-MM-DD'),5,7000,3500);
INSERT INTO TRADE VALUES (9,'202','104',TO_DATE('2016-06-02','YYYY-MM-DD'),8,18000,14400);
INSERT INTO TRADE VALUES (6,'301','103',TO_DATE('2016-05-02','YYYY-MM-DD'),12,8000,9600);
INSERT INTO TRADE VALUES (10,'302','103',TO_DATE('2016-06-09','YYYY-MM-DD'),9,22000,19800);
INSERT INTO TRADE VALUES (4,'401','104',TO_DATE('2016-04-20','YYYY-MM-DD'),15,10000,15000);
INSERT INTO TRADE VALUES (11,'401','105',TO_DATE('2016-06-15','YYYY-MM-DD'),20,10000,20000);
INSERT INTO TRADE VALUES (7,'402','102',TO_DATE('2016-05-08','YYYY-MM-DD'),5,120000,60000);

--Q9
CREATE TABLE CUSTOMER(
C_CODE VARCHAR2(4),
C_NAME VARCHAR2(30),
C_CEO VARCHAR2(12),
C_ADDR VARCHAR2(100),
C_PHONE VARCHAR2(13),
CONSTRAINT P_C_CODE PRIMARY KEY(C_CODE));

--Q11
INSERT INTO CUSTOMER VALUES ('101','늘푸른회사','김수종','경기도 안산시','010-1234-5678');
INSERT INTO CUSTOMER VALUES ('102','사랑과바다','박나리','경기도 평택시','010-1122-3344');
INSERT INTO CUSTOMER VALUES ('103','대한회사','이민수','서울시 구로구','010-3785-8809');
INSERT INTO CUSTOMER VALUES ('104','하얀기판','허진수','경상북도 포항시','010-8569-3468');
INSERT INTO CUSTOMER VALUES ('105','한마음한뜻','하민우','인천시 남동구','010-9455-6033');

--Q13
CREATE TABLE STOCK(
P_CODE CHAR(3),
S_QTY NUMBER,
S_LASTDATE DATE);

DROP TABLE PRODUCT;

--Q15
INSERT INTO STOCK VALUES ('101',50,TO_DATE('2016-04-01','YYYY-MM-DD'));
INSERT INTO STOCK VALUES ('102',20,TO_DATE('2016-04-26','YYYY-MM-DD'));
INSERT INTO STOCK VALUES ('103',5,TO_DATE('2016-05-20','YYYY-MM-DD'));
INSERT INTO STOCK VALUES ('201',2,TO_DATE('2016-04-13','YYYY-MM-DD'));
INSERT INTO STOCK VALUES ('202',15,TO_DATE('2016-06-02','YYYY-MM-DD'));
INSERT INTO STOCK VALUES ('301',0,TO_DATE('2016-05-02','YYYY-MM-DD'));
INSERT INTO STOCK VALUES ('302',20,TO_DATE('2016-06-09','YYYY-MM-DD'));
INSERT INTO STOCK VALUES ('401',10,TO_DATE('2016-06-15','YYYY-MM-DD'));
INSERT INTO STOCK VALUES ('402',7,TO_DATE('2016-05-08','YYYY-MM-DD'));

--Q17
ALTER TABLE PRODUCT
ADD (REMARKS CHAR(10));

SELECT * FROM PRODUCT;

--Q19
ALTER TABLE PRODUCT
MODIFY (REMARKS VARCHAR2(10));
DESC PRODUCT;

--Q21
ALTER TABLE PRODUCT
DROP COLUMN REMARKS;
DESC PRODUCT;

--Q23
RENAME PRODUCT TO PRODUCT1;

--Q25
TRUNCATE TABLE PRODUCT1;

--Q27
DROP TABLE PRODUCT1;

--Q29
ALTER TABLE PRODUCT
ADD CONSTRAINT P_P_CODE PRIMARY KEY(P_CODE);

ALTER TABLE STOCK
ADD CONSTRAINT F_P_CODE FOREIGN KEY(P_CODE)
REFERENCES PRODUCT(P_CODE);

SELECT OWNER, CONSTRAINT_NAME, TABLE_NAME
FROM USER_CONSTRAINTS
WHERE TABLE_NAME IN ('PRODUCT', 'STOCK');

--Q31
CREATE VIEW V_TRADE
AS
SELECT * 
FROM TRADE
WHERE P_CODE = '401';

SELECT *
FROM V_TRADE;